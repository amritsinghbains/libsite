<html>
<head>
<title>jquery.prettyPhoto.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: rgb(0,0,0); font-weight: normal; font-style: normal; }
.s0 { color: rgb(128,128,128); font-style: italic; }
.s1 { color: rgb(0,0,0); }
.s2 { color: rgb(0,0,0); }
.s3 { color: rgb(0,0,128); font-weight: bold; }
.s4 { color: rgb(0,128,0); font-weight: bold; }
.s5 { color: rgb(0,0,255); }
</style>
</head>
<BODY BGCOLOR="#ffffff">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#C0C0C0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
jquery.prettyPhoto.js</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">/* ------------------------------------------------------------------------ 
    Class: prettyPhoto 
    Use: Lightbox clone for jQuery 
    Author: Stephane Caron (http://www.no-margin-for-errors.com) 
    Version: 3.1.5 
------------------------------------------------------------------------- */</span><span class="s1"> 
</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(</span><span class="s1">e</span><span class="s2">){</span><span class="s3">function </span><span class="s1">t</span><span class="s2">(){</span><span class="s3">var </span><span class="s1">e=location</span><span class="s2">.</span><span class="s1">href;hashtag=e</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;#prettyPhoto&quot;</span><span class="s2">)</span><span class="s1">!==-</span><span class="s5">1</span><span class="s1">?decodeURI</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">substring</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;#prettyPhoto&quot;</span><span class="s2">)</span><span class="s1">+</span><span class="s5">1</span><span class="s1">,e</span><span class="s2">.</span><span class="s1">length</span><span class="s2">))</span><span class="s1">:</span><span class="s3">false</span><span class="s1">;</span><span class="s3">return </span><span class="s1">hashtag</span><span class="s2">}</span><span class="s3">function </span><span class="s1">n</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">theRel==</span><span class="s4">&quot;undefined&quot;</span><span class="s2">)</span><span class="s3">return</span><span class="s1">;location</span><span class="s2">.</span><span class="s1">hash=theRel+</span><span class="s4">&quot;/&quot;</span><span class="s1">+rel_index+</span><span class="s4">&quot;/&quot;</span><span class="s2">}</span><span class="s3">function </span><span class="s1">r</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">location</span><span class="s2">.</span><span class="s1">href</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;#prettyPhoto&quot;</span><span class="s2">)</span><span class="s1">!==-</span><span class="s5">1</span><span class="s2">)</span><span class="s1">location</span><span class="s2">.</span><span class="s1">hash=</span><span class="s4">&quot;prettyPhoto&quot;</span><span class="s2">}</span><span class="s3">function </span><span class="s1">i</span><span class="s2">(</span><span class="s1">e,t</span><span class="s2">){</span><span class="s1">e=e</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/[\[]/</span><span class="s1">,</span><span class="s4">&quot;</span><span class="s3">\\</span><span class="s4">[&quot;</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/[\]]/</span><span class="s1">,</span><span class="s4">&quot;</span><span class="s3">\\</span><span class="s4">]&quot;</span><span class="s2">)</span><span class="s1">;</span><span class="s3">var </span><span class="s1">n=</span><span class="s4">&quot;[</span><span class="s3">\\</span><span class="s4">?&amp;]&quot;</span><span class="s1">+e+</span><span class="s4">&quot;=([^&amp;#]*)&quot;</span><span class="s1">;</span><span class="s3">var </span><span class="s1">r=</span><span class="s3">new </span><span class="s1">RegExp</span><span class="s2">(</span><span class="s1">n</span><span class="s2">)</span><span class="s1">;</span><span class="s3">var </span><span class="s1">i=r</span><span class="s2">.</span><span class="s1">exec</span><span class="s2">(</span><span class="s1">t</span><span class="s2">)</span><span class="s1">;</span><span class="s3">return </span><span class="s1">i==</span><span class="s3">null</span><span class="s1">?</span><span class="s4">&quot;&quot;</span><span class="s1">:i</span><span class="s2">[</span><span class="s5">1</span><span class="s2">]}</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto=</span><span class="s2">{</span><span class="s1">version:</span><span class="s4">&quot;3.1.5&quot;</span><span class="s2">}</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">fn</span><span class="s2">.</span><span class="s1">prettyPhoto=</span><span class="s3">function</span><span class="s2">(</span><span class="s1">s</span><span class="s2">){</span><span class="s3">function </span><span class="s1">g</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;.pp_loaderIcon&quot;</span><span class="s2">).</span><span class="s1">hide</span><span class="s2">()</span><span class="s1">;projectedTop=scroll_pos</span><span class="s2">[</span><span class="s4">&quot;scrollTop&quot;</span><span class="s2">]</span><span class="s1">+</span><span class="s2">(</span><span class="s1">d/</span><span class="s5">2</span><span class="s1">-a</span><span class="s2">[</span><span class="s4">&quot;containerHeight&quot;</span><span class="s2">]</span><span class="s1">/</span><span class="s5">2</span><span class="s2">)</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">projectedTop&lt;</span><span class="s5">0</span><span class="s2">)</span><span class="s1">projectedTop=</span><span class="s5">0</span><span class="s1">;$ppt</span><span class="s2">.</span><span class="s1">fadeTo</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">animation_speed,</span><span class="s5">1</span><span class="s2">)</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_content&quot;</span><span class="s2">).</span><span class="s1">animate</span><span class="s2">({</span><span class="s1">height:a</span><span class="s2">[</span><span class="s4">&quot;contentHeight&quot;</span><span class="s2">]</span><span class="s1">,width:a</span><span class="s2">[</span><span class="s4">&quot;contentWidth&quot;</span><span class="s2">]}</span><span class="s1">,settings</span><span class="s2">.</span><span class="s1">animation_speed</span><span class="s2">)</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">animate</span><span class="s2">({</span><span class="s1">top:projectedTop,left:v/</span><span class="s5">2</span><span class="s1">-a</span><span class="s2">[</span><span class="s4">&quot;containerWidth&quot;</span><span class="s2">]</span><span class="s1">/</span><span class="s5">2</span><span class="s1">&lt;</span><span class="s5">0</span><span class="s1">?</span><span class="s5">0</span><span class="s1">:v/</span><span class="s5">2</span><span class="s1">-a</span><span class="s2">[</span><span class="s4">&quot;containerWidth&quot;</span><span class="s2">]</span><span class="s1">/</span><span class="s5">2</span><span class="s1">,width:a</span><span class="s2">[</span><span class="s4">&quot;containerWidth&quot;</span><span class="s2">]}</span><span class="s1">,settings</span><span class="s2">.</span><span class="s1">animation_speed,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_hoverContainer,#fullResImage&quot;</span><span class="s2">).</span><span class="s1">height</span><span class="s2">(</span><span class="s1">a</span><span class="s2">[</span><span class="s4">&quot;height&quot;</span><span class="s2">]).</span><span class="s1">width</span><span class="s2">(</span><span class="s1">a</span><span class="s2">[</span><span class="s4">&quot;width&quot;</span><span class="s2">])</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_fade&quot;</span><span class="s2">).</span><span class="s1">fadeIn</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">animation_speed</span><span class="s2">)</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">isSet&amp;&amp;S</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])</span><span class="s1">==</span><span class="s4">&quot;image&quot;</span><span class="s2">){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_hoverContainer&quot;</span><span class="s2">).</span><span class="s1">show</span><span class="s2">()}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_hoverContainer&quot;</span><span class="s2">).</span><span class="s1">hide</span><span class="s2">()}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">allow_expand</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">a</span><span class="s2">[</span><span class="s4">&quot;resized&quot;</span><span class="s2">]){</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;a.pp_expand,a.pp_contract&quot;</span><span class="s2">).</span><span class="s1">show</span><span class="s2">()}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;a.pp_expand&quot;</span><span class="s2">).</span><span class="s1">hide</span><span class="s2">()}}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">autoplay_slideshow&amp;&amp;!m&amp;&amp;!f</span><span class="s2">)</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">startSlideshow</span><span class="s2">()</span><span class="s1">;settings</span><span class="s2">.</span><span class="s1">changepicturecallback</span><span class="s2">()</span><span class="s1">;f=</span><span class="s3">true</span><span class="s2">})</span><span class="s1">;C</span><span class="s2">()</span><span class="s1">;s</span><span class="s2">.</span><span class="s1">ajaxcallback</span><span class="s2">()}</span><span class="s3">function </span><span class="s1">y</span><span class="s2">(</span><span class="s1">t</span><span class="s2">){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;#pp_full_res object,#pp_full_res embed&quot;</span><span class="s2">).</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;visibility&quot;</span><span class="s1">,</span><span class="s4">&quot;hidden&quot;</span><span class="s2">)</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_fade&quot;</span><span class="s2">).</span><span class="s1">fadeOut</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">animation_speed,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;.pp_loaderIcon&quot;</span><span class="s2">).</span><span class="s1">show</span><span class="s2">()</span><span class="s1">;t</span><span class="s2">()})}</span><span class="s3">function </span><span class="s1">b</span><span class="s2">(</span><span class="s1">t</span><span class="s2">){</span><span class="s1">t&gt;</span><span class="s5">1</span><span class="s1">?e</span><span class="s2">(</span><span class="s4">&quot;.pp_nav&quot;</span><span class="s2">).</span><span class="s1">show</span><span class="s2">()</span><span class="s1">:e</span><span class="s2">(</span><span class="s4">&quot;.pp_nav&quot;</span><span class="s2">).</span><span class="s1">hide</span><span class="s2">()}</span><span class="s3">function </span><span class="s1">w</span><span class="s2">(</span><span class="s1">e,t</span><span class="s2">){</span><span class="s1">resized=</span><span class="s3">false</span><span class="s1">;E</span><span class="s2">(</span><span class="s1">e,t</span><span class="s2">)</span><span class="s1">;imageWidth=e,imageHeight=t;</span><span class="s3">if</span><span class="s2">((</span><span class="s1">p&gt;v||h&gt;d</span><span class="s2">)</span><span class="s1">&amp;&amp;doresize&amp;&amp;settings</span><span class="s2">.</span><span class="s1">allow_resize&amp;&amp;!u</span><span class="s2">){</span><span class="s1">resized=</span><span class="s3">true</span><span class="s1">,fitting=</span><span class="s3">false</span><span class="s1">;</span><span class="s3">while</span><span class="s2">(</span><span class="s1">!fitting</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">p&gt;v</span><span class="s2">){</span><span class="s1">imageWidth=v-</span><span class="s5">200</span><span class="s1">;imageHeight=t/e*imageWidth</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">h&gt;d</span><span class="s2">){</span><span class="s1">imageHeight=d-</span><span class="s5">200</span><span class="s1">;imageWidth=e/t*imageHeight</span><span class="s2">}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">fitting=</span><span class="s3">true</span><span class="s2">}</span><span class="s1">h=imageHeight,p=imageWidth</span><span class="s2">}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">p&gt;v||h&gt;d</span><span class="s2">){</span><span class="s1">w</span><span class="s2">(</span><span class="s1">p,h</span><span class="s2">)}</span><span class="s1">E</span><span class="s2">(</span><span class="s1">imageWidth,imageHeight</span><span class="s2">)}</span><span class="s3">return</span><span class="s2">{</span><span class="s1">width:Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">imageWidth</span><span class="s2">)</span><span class="s1">,height:Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">imageHeight</span><span class="s2">)</span><span class="s1">,containerHeight:Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">h</span><span class="s2">)</span><span class="s1">,containerWidth:Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">p</span><span class="s2">)</span><span class="s1">+settings</span><span class="s2">.</span><span class="s1">horizontal_padding*</span><span class="s5">2</span><span class="s1">,contentHeight:Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">l</span><span class="s2">)</span><span class="s1">,contentWidth:Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">c</span><span class="s2">)</span><span class="s1">,resized:resized</span><span class="s2">}}</span><span class="s3">function </span><span class="s1">E</span><span class="s2">(</span><span class="s1">t,n</span><span class="s2">){</span><span class="s1">t=parseFloat</span><span class="s2">(</span><span class="s1">t</span><span class="s2">)</span><span class="s1">;n=parseFloat</span><span class="s2">(</span><span class="s1">n</span><span class="s2">)</span><span class="s1">;$pp_details=$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_details&quot;</span><span class="s2">)</span><span class="s1">;$pp_details</span><span class="s2">.</span><span class="s1">width</span><span class="s2">(</span><span class="s1">t</span><span class="s2">)</span><span class="s1">;detailsHeight=parseFloat</span><span class="s2">(</span><span class="s1">$pp_details</span><span class="s2">.</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;marginTop&quot;</span><span class="s2">))</span><span class="s1">+parseFloat</span><span class="s2">(</span><span class="s1">$pp_details</span><span class="s2">.</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;marginBottom&quot;</span><span class="s2">))</span><span class="s1">;$pp_details=$pp_details</span><span class="s2">.</span><span class="s1">clone</span><span class="s2">().</span><span class="s1">addClass</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">theme</span><span class="s2">).</span><span class="s1">width</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">appendTo</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;body&quot;</span><span class="s2">)).</span><span class="s1">css</span><span class="s2">({</span><span class="s1">position:</span><span class="s4">&quot;absolute&quot;</span><span class="s1">,top:-</span><span class="s5">1e4</span><span class="s2">})</span><span class="s1">;detailsHeight+=$pp_details</span><span class="s2">.</span><span class="s1">height</span><span class="s2">()</span><span class="s1">;detailsHeight=detailsHeight&lt;=</span><span class="s5">34</span><span class="s1">?</span><span class="s5">36</span><span class="s1">:detailsHeight;$pp_details</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">()</span><span class="s1">;$pp_title=$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.ppt&quot;</span><span class="s2">)</span><span class="s1">;$pp_title</span><span class="s2">.</span><span class="s1">width</span><span class="s2">(</span><span class="s1">t</span><span class="s2">)</span><span class="s1">;titleHeight=parseFloat</span><span class="s2">(</span><span class="s1">$pp_title</span><span class="s2">.</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;marginTop&quot;</span><span class="s2">))</span><span class="s1">+parseFloat</span><span class="s2">(</span><span class="s1">$pp_title</span><span class="s2">.</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;marginBottom&quot;</span><span class="s2">))</span><span class="s1">;$pp_title=$pp_title</span><span class="s2">.</span><span class="s1">clone</span><span class="s2">().</span><span class="s1">appendTo</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;body&quot;</span><span class="s2">)).</span><span class="s1">css</span><span class="s2">({</span><span class="s1">position:</span><span class="s4">&quot;absolute&quot;</span><span class="s1">,top:-</span><span class="s5">1e4</span><span class="s2">})</span><span class="s1">;titleHeight+=$pp_title</span><span class="s2">.</span><span class="s1">height</span><span class="s2">()</span><span class="s1">;$pp_title</span><span class="s2">.</span><span class="s1">remove</span><span class="s2">()</span><span class="s1">;l=n+detailsHeight;c=t;h=l+titleHeight+$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_top&quot;</span><span class="s2">).</span><span class="s1">height</span><span class="s2">()</span><span class="s1">+$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_bottom&quot;</span><span class="s2">).</span><span class="s1">height</span><span class="s2">()</span><span class="s1">;p=t</span><span class="s2">}</span><span class="s3">function </span><span class="s1">S</span><span class="s2">(</span><span class="s1">e</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/youtube\.com\/watch/i</span><span class="s2">)</span><span class="s1">||e</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/youtu\.be/i</span><span class="s2">)){</span><span class="s3">return</span><span class="s4">&quot;youtube&quot;</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/vimeo\.com/i</span><span class="s2">)){</span><span class="s3">return</span><span class="s4">&quot;vimeo&quot;</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/\b.mov\b/i</span><span class="s2">)){</span><span class="s3">return</span><span class="s4">&quot;quicktime&quot;</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/\b.swf\b/i</span><span class="s2">)){</span><span class="s3">return</span><span class="s4">&quot;flash&quot;</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/\biframe=true\b/i</span><span class="s2">)){</span><span class="s3">return</span><span class="s4">&quot;iframe&quot;</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/\bajax=true\b/i</span><span class="s2">)){</span><span class="s3">return</span><span class="s4">&quot;ajax&quot;</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/\bcustom=true\b/i</span><span class="s2">)){</span><span class="s3">return</span><span class="s4">&quot;custom&quot;</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">substr</span><span class="s2">(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">1</span><span class="s2">)</span><span class="s1">==</span><span class="s4">&quot;#&quot;</span><span class="s2">){</span><span class="s3">return</span><span class="s4">&quot;inline&quot;</span><span class="s2">}</span><span class="s3">else</span><span class="s2">{</span><span class="s3">return</span><span class="s4">&quot;image&quot;</span><span class="s2">}}</span><span class="s3">function </span><span class="s1">x</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">doresize&amp;&amp;</span><span class="s3">typeof </span><span class="s1">$pp_pic_holder!=</span><span class="s4">&quot;undefined&quot;</span><span class="s2">){</span><span class="s1">scroll_pos=T</span><span class="s2">()</span><span class="s1">;contentHeight=$pp_pic_holder</span><span class="s2">.</span><span class="s1">height</span><span class="s2">()</span><span class="s1">,contentwidth=$pp_pic_holder</span><span class="s2">.</span><span class="s1">width</span><span class="s2">()</span><span class="s1">;projectedTop=d/</span><span class="s5">2</span><span class="s1">+scroll_pos</span><span class="s2">[</span><span class="s4">&quot;scrollTop&quot;</span><span class="s2">]</span><span class="s1">-contentHeight/</span><span class="s5">2</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">projectedTop&lt;</span><span class="s5">0</span><span class="s2">)</span><span class="s1">projectedTop=</span><span class="s5">0</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">contentHeight&gt;d</span><span class="s2">)</span><span class="s3">return</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">css</span><span class="s2">({</span><span class="s1">top:projectedTop,left:v/</span><span class="s5">2</span><span class="s1">+scroll_pos</span><span class="s2">[</span><span class="s4">&quot;scrollLeft&quot;</span><span class="s2">]</span><span class="s1">-contentwidth/</span><span class="s5">2</span><span class="s2">})}}</span><span class="s3">function </span><span class="s1">T</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">pageYOffset</span><span class="s2">){</span><span class="s3">return</span><span class="s2">{</span><span class="s1">scrollTop:self</span><span class="s2">.</span><span class="s1">pageYOffset,scrollLeft:self</span><span class="s2">.</span><span class="s1">pageXOffset</span><span class="s2">}}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">document</span><span class="s2">.</span><span class="s1">documentElement&amp;&amp;document</span><span class="s2">.</span><span class="s1">documentElement</span><span class="s2">.</span><span class="s1">scrollTop</span><span class="s2">){</span><span class="s3">return</span><span class="s2">{</span><span class="s1">scrollTop:document</span><span class="s2">.</span><span class="s1">documentElement</span><span class="s2">.</span><span class="s1">scrollTop,scrollLeft:document</span><span class="s2">.</span><span class="s1">documentElement</span><span class="s2">.</span><span class="s1">scrollLeft</span><span class="s2">}}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">document</span><span class="s2">.</span><span class="s1">body</span><span class="s2">){</span><span class="s3">return</span><span class="s2">{</span><span class="s1">scrollTop:document</span><span class="s2">.</span><span class="s1">body</span><span class="s2">.</span><span class="s1">scrollTop,scrollLeft:document</span><span class="s2">.</span><span class="s1">body</span><span class="s2">.</span><span class="s1">scrollLeft</span><span class="s2">}}}</span><span class="s3">function </span><span class="s1">N</span><span class="s2">(){</span><span class="s1">d=e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">height</span><span class="s2">()</span><span class="s1">,v=e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">width</span><span class="s2">()</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">$pp_overlay!=</span><span class="s4">&quot;undefined&quot;</span><span class="s2">)</span><span class="s1">$pp_overlay</span><span class="s2">.</span><span class="s1">height</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s1">document</span><span class="s2">).</span><span class="s1">height</span><span class="s2">()).</span><span class="s1">width</span><span class="s2">(</span><span class="s1">v</span><span class="s2">)}</span><span class="s3">function </span><span class="s1">C</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">isSet&amp;&amp;settings</span><span class="s2">.</span><span class="s1">overlay_gallery&amp;&amp;S</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])</span><span class="s1">==</span><span class="s4">&quot;image&quot;</span><span class="s2">){</span><span class="s1">itemWidth=</span><span class="s5">52</span><span class="s1">+</span><span class="s5">5</span><span class="s1">;navWidth=settings</span><span class="s2">.</span><span class="s1">theme==</span><span class="s4">&quot;facebook&quot;</span><span class="s1">||settings</span><span class="s2">.</span><span class="s1">theme==</span><span class="s4">&quot;pp_default&quot;</span><span class="s1">?</span><span class="s5">50</span><span class="s1">:</span><span class="s5">30</span><span class="s1">;itemsPerPage=Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">((</span><span class="s1">a</span><span class="s2">[</span><span class="s4">&quot;containerWidth&quot;</span><span class="s2">]</span><span class="s1">-</span><span class="s5">100</span><span class="s1">-navWidth</span><span class="s2">)</span><span class="s1">/itemWidth</span><span class="s2">)</span><span class="s1">;itemsPerPage=itemsPerPage&lt;pp_images</span><span class="s2">.</span><span class="s1">length?itemsPerPage:pp_images</span><span class="s2">.</span><span class="s1">length;totalPage=Math</span><span class="s2">.</span><span class="s1">ceil</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">.</span><span class="s1">length/itemsPerPage</span><span class="s2">)</span><span class="s1">-</span><span class="s5">1</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">totalPage==</span><span class="s5">0</span><span class="s2">){</span><span class="s1">navWidth=</span><span class="s5">0</span><span class="s1">;$pp_gallery</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_arrow_next,.pp_arrow_previous&quot;</span><span class="s2">).</span><span class="s1">hide</span><span class="s2">()}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">$pp_gallery</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_arrow_next,.pp_arrow_previous&quot;</span><span class="s2">).</span><span class="s1">show</span><span class="s2">()}</span><span class="s1">galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images</span><span class="s2">.</span><span class="s1">length*itemWidth;$pp_gallery</span><span class="s2">.</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;margin-left&quot;</span><span class="s1">,-</span><span class="s2">(</span><span class="s1">galleryWidth/</span><span class="s5">2</span><span class="s1">+navWidth/</span><span class="s5">2</span><span class="s2">)).</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;div:first&quot;</span><span class="s2">).</span><span class="s1">width</span><span class="s2">(</span><span class="s1">galleryWidth+</span><span class="s5">5</span><span class="s2">).</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;ul&quot;</span><span class="s2">).</span><span class="s1">width</span><span class="s2">(</span><span class="s1">fullGalleryWidth</span><span class="s2">).</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;li.selected&quot;</span><span class="s2">).</span><span class="s1">removeClass</span><span class="s2">(</span><span class="s4">&quot;selected&quot;</span><span class="s2">)</span><span class="s1">;goToPage=Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">set_position/itemsPerPage</span><span class="s2">)</span><span class="s1">&lt;totalPage?Math</span><span class="s2">.</span><span class="s1">floor</span><span class="s2">(</span><span class="s1">set_position/itemsPerPage</span><span class="s2">)</span><span class="s1">:totalPage;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changeGalleryPage</span><span class="s2">(</span><span class="s1">goToPage</span><span class="s2">)</span><span class="s1">;$pp_gallery_li</span><span class="s2">.</span><span class="s1">filter</span><span class="s2">(</span><span class="s4">&quot;:eq(&quot;</span><span class="s1">+set_position+</span><span class="s4">&quot;)&quot;</span><span class="s2">).</span><span class="s1">addClass</span><span class="s2">(</span><span class="s4">&quot;selected&quot;</span><span class="s2">)}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_content&quot;</span><span class="s2">).</span><span class="s1">unbind</span><span class="s2">(</span><span class="s4">&quot;mouseenter mouseleave&quot;</span><span class="s2">)}}</span><span class="s3">function </span><span class="s1">k</span><span class="s2">(</span><span class="s1">t</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">social_tools</span><span class="s2">)</span><span class="s1">facebook_like_link=settings</span><span class="s2">.</span><span class="s1">social_tools</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s4">&quot;{location_href}&quot;</span><span class="s1">,encodeURIComponent</span><span class="s2">(</span><span class="s1">location</span><span class="s2">.</span><span class="s1">href</span><span class="s2">))</span><span class="s1">;settings</span><span class="s2">.</span><span class="s1">markup=settings</span><span class="s2">.</span><span class="s1">markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s4">&quot;{pp_social}&quot;</span><span class="s1">,</span><span class="s4">&quot;&quot;</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">(</span><span class="s4">&quot;body&quot;</span><span class="s2">).</span><span class="s1">append</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">markup</span><span class="s2">)</span><span class="s1">;$pp_pic_holder=e</span><span class="s2">(</span><span class="s4">&quot;.pp_pic_holder&quot;</span><span class="s2">)</span><span class="s1">,$ppt=e</span><span class="s2">(</span><span class="s4">&quot;.ppt&quot;</span><span class="s2">)</span><span class="s1">,$pp_overlay=e</span><span class="s2">(</span><span class="s4">&quot;div.pp_overlay&quot;</span><span class="s2">)</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">isSet&amp;&amp;settings</span><span class="s2">.</span><span class="s1">overlay_gallery</span><span class="s2">){</span><span class="s1">currentGalleryPage=</span><span class="s5">0</span><span class="s1">;toInject=</span><span class="s4">&quot;&quot;</span><span class="s1">;</span><span class="s3">for</span><span class="s2">(</span><span class="s3">var </span><span class="s1">n=</span><span class="s5">0</span><span class="s1">;n&lt;pp_images</span><span class="s2">.</span><span class="s1">length;n++</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">!pp_images</span><span class="s2">[</span><span class="s1">n</span><span class="s2">].</span><span class="s1">match</span><span class="s2">(</span><span class="s5">/\b(jpg|jpeg|png|gif)\b/gi</span><span class="s2">)){</span><span class="s1">classname=</span><span class="s4">&quot;default&quot;</span><span class="s1">;img_src=</span><span class="s4">&quot;&quot;</span><span class="s2">}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">classname=</span><span class="s4">&quot;&quot;</span><span class="s1">;img_src=pp_images</span><span class="s2">[</span><span class="s1">n</span><span class="s2">]}</span><span class="s1">toInject+=</span><span class="s4">&quot;&lt;li class='&quot;</span><span class="s1">+classname+</span><span class="s4">&quot;'&gt;&lt;a href='#'&gt;&lt;img src='&quot;</span><span class="s1">+img_src+</span><span class="s4">&quot;' width='50' alt='' /&gt;&lt;/a&gt;&lt;/li&gt;&quot;</span><span class="s2">}</span><span class="s1">toInject=settings</span><span class="s2">.</span><span class="s1">gallery_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{gallery}/g</span><span class="s1">,toInject</span><span class="s2">)</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;#pp_full_res&quot;</span><span class="s2">).</span><span class="s1">after</span><span class="s2">(</span><span class="s1">toInject</span><span class="s2">)</span><span class="s1">;$pp_gallery=e</span><span class="s2">(</span><span class="s4">&quot;.pp_pic_holder .pp_gallery&quot;</span><span class="s2">)</span><span class="s1">,$pp_gallery_li=$pp_gallery</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;li&quot;</span><span class="s2">)</span><span class="s1">;$pp_gallery</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_arrow_next&quot;</span><span class="s2">).</span><span class="s1">click</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changeGalleryPage</span><span class="s2">(</span><span class="s4">&quot;next&quot;</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">stopSlideshow</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})</span><span class="s1">;$pp_gallery</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_arrow_previous&quot;</span><span class="s2">).</span><span class="s1">click</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changeGalleryPage</span><span class="s2">(</span><span class="s4">&quot;previous&quot;</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">stopSlideshow</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_content&quot;</span><span class="s2">).</span><span class="s1">hover</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_gallery:not(.disabled)&quot;</span><span class="s2">).</span><span class="s1">fadeIn</span><span class="s2">()}</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_gallery:not(.disabled)&quot;</span><span class="s2">).</span><span class="s1">fadeOut</span><span class="s2">()})</span><span class="s1">;itemWidth=</span><span class="s5">52</span><span class="s1">+</span><span class="s5">5</span><span class="s1">;$pp_gallery_li</span><span class="s2">.</span><span class="s1">each</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(</span><span class="s1">t</span><span class="s2">){</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;a&quot;</span><span class="s2">).</span><span class="s1">click</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changePage</span><span class="s2">(</span><span class="s1">t</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">stopSlideshow</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})})}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">slideshow</span><span class="s2">){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_nav&quot;</span><span class="s2">).</span><span class="s1">prepend</span><span class="s2">(</span><span class="s4">'&lt;a href=&quot;#&quot; class=&quot;pp_play&quot;&gt;Play&lt;/a&gt;'</span><span class="s2">)</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_nav .pp_play&quot;</span><span class="s2">).</span><span class="s1">click</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">startSlideshow</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})}</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;class&quot;</span><span class="s1">,</span><span class="s4">&quot;pp_pic_holder &quot;</span><span class="s1">+settings</span><span class="s2">.</span><span class="s1">theme</span><span class="s2">)</span><span class="s1">;$pp_overlay</span><span class="s2">.</span><span class="s1">css</span><span class="s2">({</span><span class="s1">opacity:</span><span class="s5">0</span><span class="s1">,height:e</span><span class="s2">(</span><span class="s1">document</span><span class="s2">).</span><span class="s1">height</span><span class="s2">()</span><span class="s1">,width:e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">width</span><span class="s2">()}).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;click&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">!settings</span><span class="s2">.</span><span class="s1">modal</span><span class="s2">)</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">close</span><span class="s2">()})</span><span class="s1">;e</span><span class="s2">(</span><span class="s4">&quot;a.pp_close&quot;</span><span class="s2">).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;click&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">close</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">allow_expand</span><span class="s2">){</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;a.pp_expand&quot;</span><span class="s2">).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;click&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">t</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">hasClass</span><span class="s2">(</span><span class="s4">&quot;pp_expand&quot;</span><span class="s2">)){</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">removeClass</span><span class="s2">(</span><span class="s4">&quot;pp_expand&quot;</span><span class="s2">).</span><span class="s1">addClass</span><span class="s2">(</span><span class="s4">&quot;pp_contract&quot;</span><span class="s2">)</span><span class="s1">;doresize=</span><span class="s3">false</span><span class="s2">}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">removeClass</span><span class="s2">(</span><span class="s4">&quot;pp_contract&quot;</span><span class="s2">).</span><span class="s1">addClass</span><span class="s2">(</span><span class="s4">&quot;pp_expand&quot;</span><span class="s2">)</span><span class="s1">;doresize=</span><span class="s3">true</span><span class="s2">}</span><span class="s1">y</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">open</span><span class="s2">()})</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})}</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_previous, .pp_nav .pp_arrow_previous&quot;</span><span class="s2">).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;click&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changePage</span><span class="s2">(</span><span class="s4">&quot;previous&quot;</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">stopSlideshow</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_next, .pp_nav .pp_arrow_next&quot;</span><span class="s2">).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;click&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changePage</span><span class="s2">(</span><span class="s4">&quot;next&quot;</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">stopSlideshow</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})</span><span class="s1">;x</span><span class="s2">()}</span><span class="s1">s=jQuery</span><span class="s2">.</span><span class="s1">extend</span><span class="s2">({</span><span class="s1">hook:</span><span class="s4">&quot;rel&quot;</span><span class="s1">,animation_speed:</span><span class="s4">&quot;fast&quot;</span><span class="s1">,ajaxcallback:</span><span class="s3">function</span><span class="s2">(){}</span><span class="s1">,slideshow:</span><span class="s5">5e3</span><span class="s1">,autoplay_slideshow:</span><span class="s3">false</span><span class="s1">,opacity:</span><span class="s5">.8</span><span class="s1">,show_title:</span><span class="s3">true</span><span class="s1">,allow_resize:</span><span class="s3">true</span><span class="s1">,allow_expand:</span><span class="s3">true</span><span class="s1">,default_width:</span><span class="s5">500</span><span class="s1">,default_height:</span><span class="s5">344</span><span class="s1">,counter_separator_label:</span><span class="s4">&quot;/&quot;</span><span class="s1">,theme:</span><span class="s4">&quot;pp_default&quot;</span><span class="s1">,horizontal_padding:</span><span class="s5">20</span><span class="s1">,hideflash:</span><span class="s3">false</span><span class="s1">,wmode:</span><span class="s4">&quot;opaque&quot;</span><span class="s1">,autoplay:</span><span class="s3">true</span><span class="s1">,modal:</span><span class="s3">false</span><span class="s1">,deeplinking:</span><span class="s3">true</span><span class="s1">,overlay_gallery:</span><span class="s3">true</span><span class="s1">,overlay_gallery_max:</span><span class="s5">30</span><span class="s1">,keyboard_shortcuts:</span><span class="s3">true</span><span class="s1">,changepicturecallback:</span><span class="s3">function</span><span class="s2">(){}</span><span class="s1">,callback:</span><span class="s3">function</span><span class="s2">(){}</span><span class="s1">,ie6_fallback:</span><span class="s3">true</span><span class="s1">,markup:</span><span class="s4">'&lt;div class=&quot;pp_pic_holder&quot;&gt;                      &lt;div class=&quot;ppt&quot;&gt;&lt;/div&gt;                        &lt;div class=&quot;pp_top&quot;&gt;                            &lt;div class=&quot;pp_left&quot;&gt;&lt;/div&gt;                             &lt;div class=&quot;pp_middle&quot;&gt;&lt;/div&gt;                           &lt;div class=&quot;pp_right&quot;&gt;&lt;/div&gt;                        &lt;/div&gt;                      &lt;div class=&quot;pp_content_container&quot;&gt;                          &lt;div class=&quot;pp_left&quot;&gt;                           &lt;div class=&quot;pp_right&quot;&gt;                              &lt;div class=&quot;pp_content&quot;&gt;                                    &lt;div class=&quot;pp_loaderIcon&quot;&gt;&lt;/div&gt;                                   &lt;div class=&quot;pp_fade&quot;&gt;                                       &lt;a href=&quot;#&quot; class=&quot;pp_expand&quot; title=&quot;Expand the image&quot;&gt;Expand&lt;/a&gt;                                       &lt;div class=&quot;pp_hoverContainer&quot;&gt;                                             &lt;a class=&quot;pp_next&quot; href=&quot;#&quot;&gt;next&lt;/a&gt;                                            &lt;a class=&quot;pp_previous&quot; href=&quot;#&quot;&gt;previous&lt;/a&gt;                                        &lt;/div&gt;                                      &lt;div id=&quot;pp_full_res&quot;&gt;&lt;/div&gt;                                        &lt;div class=&quot;pp_details&quot;&gt;                                            &lt;div class=&quot;pp_nav&quot;&gt;                                                &lt;a href=&quot;#&quot; class=&quot;pp_arrow_previous&quot;&gt;Previous&lt;/a&gt;                                              &lt;p class=&quot;currentTextHolder&quot;&gt;0/0&lt;/p&gt;                                                &lt;a href=&quot;#&quot; class=&quot;pp_arrow_next&quot;&gt;Next&lt;/a&gt;                                          &lt;/div&gt;                                          &lt;p class=&quot;pp_description&quot;&gt;&lt;/p&gt;                                          &lt;div class=&quot;pp_social&quot;&gt;{pp_social}&lt;/div&gt;                                            &lt;a class=&quot;pp_close&quot; href=&quot;#&quot;&gt;Close&lt;/a&gt;                                      &lt;/div&gt;                                  &lt;/div&gt;                              &lt;/div&gt;                          &lt;/div&gt;                          &lt;/div&gt;                      &lt;/div&gt;                      &lt;div class=&quot;pp_bottom&quot;&gt;                             &lt;div class=&quot;pp_left&quot;&gt;&lt;/div&gt;                             &lt;div class=&quot;pp_middle&quot;&gt;&lt;/div&gt;                           &lt;div class=&quot;pp_right&quot;&gt;&lt;/div&gt;                        &lt;/div&gt;                  &lt;/div&gt;                  &lt;div class=&quot;pp_overlay&quot;&gt;&lt;/div&gt;'</span><span class="s1">,gallery_markup:</span><span class="s4">'&lt;div class=&quot;pp_gallery&quot;&gt;                                &lt;a href=&quot;#&quot; class=&quot;pp_arrow_previous&quot;&gt;Previous&lt;/a&gt;                              &lt;div&gt;                                   &lt;ul&gt;                                        {gallery}                                   &lt;/ul&gt;                               &lt;/div&gt;                              &lt;a href=&quot;#&quot; class=&quot;pp_arrow_next&quot;&gt;Next&lt;/a&gt;                          &lt;/div&gt;'</span><span class="s1">,image_markup:</span><span class="s4">'&lt;img id=&quot;fullResImage&quot; src=&quot;{path}&quot; /&gt;'</span><span class="s1">,flash_markup:</span><span class="s4">'&lt;object classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot; width=&quot;{width}&quot; height=&quot;{height}&quot;&gt;&lt;param name=&quot;wmode&quot; value=&quot;{wmode}&quot; /&gt;&lt;param name=&quot;allowfullscreen&quot; value=&quot;true&quot; /&gt;&lt;param name=&quot;allowscriptaccess&quot; value=&quot;always&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;{path}&quot; /&gt;&lt;embed src=&quot;{path}&quot; type=&quot;application/x-shockwave-flash&quot; allowfullscreen=&quot;true&quot; allowscriptaccess=&quot;always&quot; width=&quot;{width}&quot; height=&quot;{height}&quot; wmode=&quot;{wmode}&quot;&gt;&lt;/embed&gt;&lt;/object&gt;'</span><span class="s1">,quicktime_markup:</span><span class="s4">'&lt;object classid=&quot;clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B&quot; codebase=&quot;http://www.apple.com/qtactivex/qtplugin.cab&quot; height=&quot;{height}&quot; width=&quot;{width}&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;{path}&quot;&gt;&lt;param name=&quot;autoplay&quot; value=&quot;{autoplay}&quot;&gt;&lt;param name=&quot;type&quot; value=&quot;video/quicktime&quot;&gt;&lt;embed src=&quot;{path}&quot; height=&quot;{height}&quot; width=&quot;{width}&quot; autoplay=&quot;{autoplay}&quot; type=&quot;video/quicktime&quot; pluginspage=&quot;http://www.apple.com/quicktime/download/&quot;&gt;&lt;/embed&gt;&lt;/object&gt;'</span><span class="s1">,iframe_markup:</span><span class="s4">'&lt;iframe src =&quot;{path}&quot; width=&quot;{width}&quot; height=&quot;{height}&quot; frameborder=&quot;no&quot;&gt;&lt;/iframe&gt;'</span><span class="s1">,inline_markup:</span><span class="s4">'&lt;div class=&quot;pp_inline&quot;&gt;{content}&lt;/div&gt;'</span><span class="s1">,custom_markup:</span><span class="s4">&quot;&quot;</span><span class="s1">,social_tools:</span><span class="s4">'&lt;div&gt;&lt;/div&gt;'</span><span class="s2">}</span><span class="s1">,s</span><span class="s2">)</span><span class="s1">;</span><span class="s3">var </span><span class="s1">o=</span><span class="s3">this</span><span class="s1">,u=</span><span class="s3">false</span><span class="s1">,a,f,l,c,h,p,d=e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">height</span><span class="s2">()</span><span class="s1">,v=e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">width</span><span class="s2">()</span><span class="s1">,m;doresize=</span><span class="s3">true</span><span class="s1">,scroll_pos=T</span><span class="s2">()</span><span class="s1">;e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">unbind</span><span class="s2">(</span><span class="s4">&quot;resize.prettyphoto&quot;</span><span class="s2">).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;resize.prettyphoto&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">x</span><span class="s2">()</span><span class="s1">;N</span><span class="s2">()})</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">s</span><span class="s2">.</span><span class="s1">keyboard_shortcuts</span><span class="s2">){</span><span class="s1">e</span><span class="s2">(</span><span class="s1">document</span><span class="s2">).</span><span class="s1">unbind</span><span class="s2">(</span><span class="s4">&quot;keydown.prettyphoto&quot;</span><span class="s2">).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;keydown.prettyphoto&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">t</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">$pp_pic_holder!=</span><span class="s4">&quot;undefined&quot;</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">is</span><span class="s2">(</span><span class="s4">&quot;:visible&quot;</span><span class="s2">)){</span><span class="s3">switch</span><span class="s2">(</span><span class="s1">t</span><span class="s2">.</span><span class="s1">keyCode</span><span class="s2">){</span><span class="s3">case </span><span class="s5">37</span><span class="s1">:e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changePage</span><span class="s2">(</span><span class="s4">&quot;previous&quot;</span><span class="s2">)</span><span class="s1">;t</span><span class="s2">.</span><span class="s1">preventDefault</span><span class="s2">()</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s5">39</span><span class="s1">:e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changePage</span><span class="s2">(</span><span class="s4">&quot;next&quot;</span><span class="s2">)</span><span class="s1">;t</span><span class="s2">.</span><span class="s1">preventDefault</span><span class="s2">()</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s5">27</span><span class="s1">:</span><span class="s3">if</span><span class="s2">(</span><span class="s1">!settings</span><span class="s2">.</span><span class="s1">modal</span><span class="s2">)</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">close</span><span class="s2">()</span><span class="s1">;t</span><span class="s2">.</span><span class="s1">preventDefault</span><span class="s2">()</span><span class="s1">;</span><span class="s3">break</span><span class="s2">}}}})}</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">initialize=</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">settings=s;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">theme==</span><span class="s4">&quot;pp_default&quot;</span><span class="s2">)</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">horizontal_padding=</span><span class="s5">16</span><span class="s1">;theRel=e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">)</span><span class="s1">;galleryRegExp=</span><span class="s5">/\[(?:.*)\]/</span><span class="s1">;isSet=galleryRegExp</span><span class="s2">.</span><span class="s1">exec</span><span class="s2">(</span><span class="s1">theRel</span><span class="s2">)</span><span class="s1">?</span><span class="s3">true</span><span class="s1">:</span><span class="s3">false</span><span class="s1">;pp_images=isSet?jQuery</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s1">o,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">t,n</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">).</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">theRel</span><span class="s2">)</span><span class="s1">!=-</span><span class="s5">1</span><span class="s2">)</span><span class="s3">return </span><span class="s1">e</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;href&quot;</span><span class="s2">)})</span><span class="s1">:e</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;href&quot;</span><span class="s2">))</span><span class="s1">;pp_titles=isSet?jQuery</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s1">o,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">t,n</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">).</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">theRel</span><span class="s2">)</span><span class="s1">!=-</span><span class="s5">1</span><span class="s2">)</span><span class="s3">return </span><span class="s1">e</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;img&quot;</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;alt&quot;</span><span class="s2">)</span><span class="s1">?e</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;img&quot;</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;alt&quot;</span><span class="s2">)</span><span class="s1">:</span><span class="s4">&quot;&quot;</span><span class="s2">})</span><span class="s1">:e</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;img&quot;</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;alt&quot;</span><span class="s2">))</span><span class="s1">;pp_descriptions=isSet?jQuery</span><span class="s2">.</span><span class="s1">map</span><span class="s2">(</span><span class="s1">o,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">t,n</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">hook</span><span class="s2">).</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s1">theRel</span><span class="s2">)</span><span class="s1">!=-</span><span class="s5">1</span><span class="s2">)</span><span class="s3">return </span><span class="s1">e</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;title&quot;</span><span class="s2">)</span><span class="s1">?e</span><span class="s2">(</span><span class="s1">t</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;title&quot;</span><span class="s2">)</span><span class="s1">:</span><span class="s4">&quot;&quot;</span><span class="s2">})</span><span class="s1">:e</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;title&quot;</span><span class="s2">))</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">.</span><span class="s1">length&gt;settings</span><span class="s2">.</span><span class="s1">overlay_gallery_max</span><span class="s2">)</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">overlay_gallery=</span><span class="s3">false</span><span class="s1">;set_position=jQuery</span><span class="s2">.</span><span class="s1">inArray</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">attr</span><span class="s2">(</span><span class="s4">&quot;href&quot;</span><span class="s2">)</span><span class="s1">,pp_images</span><span class="s2">)</span><span class="s1">;rel_index=isSet?set_position:e</span><span class="s2">(</span><span class="s4">&quot;a[&quot;</span><span class="s1">+settings</span><span class="s2">.</span><span class="s1">hook+</span><span class="s4">&quot;^='&quot;</span><span class="s1">+theRel+</span><span class="s4">&quot;']&quot;</span><span class="s2">).</span><span class="s1">index</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">))</span><span class="s1">;k</span><span class="s2">(</span><span class="s3">this</span><span class="s2">)</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">allow_resize</span><span class="s2">)</span><span class="s1">e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;scroll.prettyphoto&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">x</span><span class="s2">()})</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">open</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">}</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">open=</span><span class="s3">function</span><span class="s2">(</span><span class="s1">t</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">settings==</span><span class="s4">&quot;undefined&quot;</span><span class="s2">){</span><span class="s1">settings=s;pp_images=e</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">arguments</span><span class="s2">[</span><span class="s5">0</span><span class="s2">])</span><span class="s1">;pp_titles=arguments</span><span class="s2">[</span><span class="s5">1</span><span class="s2">]</span><span class="s1">?e</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">arguments</span><span class="s2">[</span><span class="s5">1</span><span class="s2">])</span><span class="s1">:e</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">)</span><span class="s1">;pp_descriptions=arguments</span><span class="s2">[</span><span class="s5">2</span><span class="s2">]</span><span class="s1">?e</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s1">arguments</span><span class="s2">[</span><span class="s5">2</span><span class="s2">])</span><span class="s1">:e</span><span class="s2">.</span><span class="s1">makeArray</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">)</span><span class="s1">;isSet=pp_images</span><span class="s2">.</span><span class="s1">length&gt;</span><span class="s5">1</span><span class="s1">?</span><span class="s3">true</span><span class="s1">:</span><span class="s3">false</span><span class="s1">;set_position=arguments</span><span class="s2">[</span><span class="s5">3</span><span class="s2">]</span><span class="s1">?arguments</span><span class="s2">[</span><span class="s5">3</span><span class="s2">]</span><span class="s1">:</span><span class="s5">0</span><span class="s1">;k</span><span class="s2">(</span><span class="s1">t</span><span class="s2">.</span><span class="s1">target</span><span class="s2">)}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">hideflash</span><span class="s2">)</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;object,embed,iframe[src*=youtube],iframe[src*=vimeo]&quot;</span><span class="s2">).</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;visibility&quot;</span><span class="s1">,</span><span class="s4">&quot;hidden&quot;</span><span class="s2">)</span><span class="s1">;b</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">).</span><span class="s1">size</span><span class="s2">())</span><span class="s1">;e</span><span class="s2">(</span><span class="s4">&quot;.pp_loaderIcon&quot;</span><span class="s2">).</span><span class="s1">show</span><span class="s2">()</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">deeplinking</span><span class="s2">)</span><span class="s1">n</span><span class="s2">()</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">social_tools</span><span class="s2">){</span><span class="s1">facebook_like_link=settings</span><span class="s2">.</span><span class="s1">social_tools</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s4">&quot;{location_href}&quot;</span><span class="s1">,encodeURIComponent</span><span class="s2">(</span><span class="s1">location</span><span class="s2">.</span><span class="s1">href</span><span class="s2">))</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_social&quot;</span><span class="s2">).</span><span class="s1">html</span><span class="s2">(</span><span class="s1">facebook_like_link</span><span class="s2">)}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">$ppt</span><span class="s2">.</span><span class="s1">is</span><span class="s2">(</span><span class="s4">&quot;:hidden&quot;</span><span class="s2">))</span><span class="s1">$ppt</span><span class="s2">.</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;opacity&quot;</span><span class="s1">,</span><span class="s5">0</span><span class="s2">).</span><span class="s1">show</span><span class="s2">()</span><span class="s1">;$pp_overlay</span><span class="s2">.</span><span class="s1">show</span><span class="s2">().</span><span class="s1">fadeTo</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">animation_speed,settings</span><span class="s2">.</span><span class="s1">opacity</span><span class="s2">)</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.currentTextHolder&quot;</span><span class="s2">).</span><span class="s1">text</span><span class="s2">(</span><span class="s1">set_position+</span><span class="s5">1</span><span class="s1">+settings</span><span class="s2">.</span><span class="s1">counter_separator_label+e</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">).</span><span class="s1">size</span><span class="s2">())</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">pp_descriptions</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">!=</span><span class="s4">&quot;undefined&quot;</span><span class="s1">&amp;&amp;pp_descriptions</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">!=</span><span class="s4">&quot;&quot;</span><span class="s2">){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_description&quot;</span><span class="s2">).</span><span class="s1">show</span><span class="s2">().</span><span class="s1">html</span><span class="s2">(</span><span class="s1">unescape</span><span class="s2">(</span><span class="s1">pp_descriptions</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]))}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_description&quot;</span><span class="s2">).</span><span class="s1">hide</span><span class="s2">()}</span><span class="s1">movie_width=parseFloat</span><span class="s2">(</span><span class="s1">i</span><span class="s2">(</span><span class="s4">&quot;width&quot;</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]))</span><span class="s1">?i</span><span class="s2">(</span><span class="s4">&quot;width&quot;</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])</span><span class="s1">:settings</span><span class="s2">.</span><span class="s1">default_width</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">()</span><span class="s1">;movie_height=parseFloat</span><span class="s2">(</span><span class="s1">i</span><span class="s2">(</span><span class="s4">&quot;height&quot;</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]))</span><span class="s1">?i</span><span class="s2">(</span><span class="s4">&quot;height&quot;</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])</span><span class="s1">:settings</span><span class="s2">.</span><span class="s1">default_height</span><span class="s2">.</span><span class="s1">toString</span><span class="s2">()</span><span class="s1">;u=</span><span class="s3">false</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">movie_height</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;%&quot;</span><span class="s2">)</span><span class="s1">!=-</span><span class="s5">1</span><span class="s2">){</span><span class="s1">movie_height=parseFloat</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">height</span><span class="s2">()</span><span class="s1">*parseFloat</span><span class="s2">(</span><span class="s1">movie_height</span><span class="s2">)</span><span class="s1">/</span><span class="s5">100</span><span class="s1">-</span><span class="s5">150</span><span class="s2">)</span><span class="s1">;u=</span><span class="s3">true</span><span class="s2">}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">movie_width</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;%&quot;</span><span class="s2">)</span><span class="s1">!=-</span><span class="s5">1</span><span class="s2">){</span><span class="s1">movie_width=parseFloat</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">width</span><span class="s2">()</span><span class="s1">*parseFloat</span><span class="s2">(</span><span class="s1">movie_width</span><span class="s2">)</span><span class="s1">/</span><span class="s5">100</span><span class="s1">-</span><span class="s5">150</span><span class="s2">)</span><span class="s1">;u=</span><span class="s3">true</span><span class="s2">}</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">fadeIn</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">show_title&amp;&amp;pp_titles</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">!=</span><span class="s4">&quot;&quot;</span><span class="s1">&amp;&amp;</span><span class="s3">typeof </span><span class="s1">pp_titles</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">!=</span><span class="s4">&quot;undefined&quot;</span><span class="s1">?$ppt</span><span class="s2">.</span><span class="s1">html</span><span class="s2">(</span><span class="s1">unescape</span><span class="s2">(</span><span class="s1">pp_titles</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]))</span><span class="s1">:$ppt</span><span class="s2">.</span><span class="s1">html</span><span class="s2">(</span><span class="s4">&quot;&quot;</span><span class="s2">)</span><span class="s1">;imgPreloader=</span><span class="s4">&quot;&quot;</span><span class="s1">;skipInjection=</span><span class="s3">false</span><span class="s1">;</span><span class="s3">switch</span><span class="s2">(</span><span class="s1">S</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])){</span><span class="s3">case</span><span class="s4">&quot;image&quot;</span><span class="s1">:imgPreloader=</span><span class="s3">new </span><span class="s1">Image;nextImage=</span><span class="s3">new </span><span class="s1">Image;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">isSet&amp;&amp;set_position&lt;e</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">).</span><span class="s1">size</span><span class="s2">()</span><span class="s1">-</span><span class="s5">1</span><span class="s2">)</span><span class="s1">nextImage</span><span class="s2">.</span><span class="s1">src=pp_images</span><span class="s2">[</span><span class="s1">set_position+</span><span class="s5">1</span><span class="s2">]</span><span class="s1">;prevImage=</span><span class="s3">new </span><span class="s1">Image;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">isSet&amp;&amp;pp_images</span><span class="s2">[</span><span class="s1">set_position-</span><span class="s5">1</span><span class="s2">])</span><span class="s1">prevImage</span><span class="s2">.</span><span class="s1">src=pp_images</span><span class="s2">[</span><span class="s1">set_position-</span><span class="s5">1</span><span class="s2">]</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;#pp_full_res&quot;</span><span class="s2">)[</span><span class="s5">0</span><span class="s2">].</span><span class="s1">innerHTML=settings</span><span class="s2">.</span><span class="s1">image_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{path}/g</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])</span><span class="s1">;imgPreloader</span><span class="s2">.</span><span class="s1">onload=</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">a=w</span><span class="s2">(</span><span class="s1">imgPreloader</span><span class="s2">.</span><span class="s1">width,imgPreloader</span><span class="s2">.</span><span class="s1">height</span><span class="s2">)</span><span class="s1">;g</span><span class="s2">()}</span><span class="s1">;imgPreloader</span><span class="s2">.</span><span class="s1">onerror=</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">alert</span><span class="s2">(</span><span class="s4">&quot;Image cannot be loaded. Make sure the path is correct and image exist.&quot;</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">close</span><span class="s2">()}</span><span class="s1">;imgPreloader</span><span class="s2">.</span><span class="s1">src=pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case</span><span class="s4">&quot;youtube&quot;</span><span class="s1">:a=w</span><span class="s2">(</span><span class="s1">movie_width,movie_height</span><span class="s2">)</span><span class="s1">;movie_id=i</span><span class="s2">(</span><span class="s4">&quot;v&quot;</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">movie_id==</span><span class="s4">&quot;&quot;</span><span class="s2">){</span><span class="s1">movie_id=pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">].</span><span class="s1">split</span><span class="s2">(</span><span class="s4">&quot;youtu.be/&quot;</span><span class="s2">)</span><span class="s1">;movie_id=movie_id</span><span class="s2">[</span><span class="s5">1</span><span class="s2">]</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">movie_id</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;?&quot;</span><span class="s2">)</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s2">)</span><span class="s1">movie_id=movie_id</span><span class="s2">.</span><span class="s1">substr</span><span class="s2">(</span><span class="s5">0</span><span class="s1">,movie_id</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;?&quot;</span><span class="s2">))</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">movie_id</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;&amp;&quot;</span><span class="s2">)</span><span class="s1">&gt;</span><span class="s5">0</span><span class="s2">)</span><span class="s1">movie_id=movie_id</span><span class="s2">.</span><span class="s1">substr</span><span class="s2">(</span><span class="s5">0</span><span class="s1">,movie_id</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;&amp;&quot;</span><span class="s2">))}</span><span class="s1">movie=</span><span class="s4">&quot;http://www.youtube.com/embed/&quot;</span><span class="s1">+movie_id;i</span><span class="s2">(</span><span class="s4">&quot;rel&quot;</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])</span><span class="s1">?movie+=</span><span class="s4">&quot;?rel=&quot;</span><span class="s1">+i</span><span class="s2">(</span><span class="s4">&quot;rel&quot;</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">])</span><span class="s1">:movie+=</span><span class="s4">&quot;?rel=1&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">autoplay</span><span class="s2">)</span><span class="s1">movie+=</span><span class="s4">&quot;&amp;autoplay=1&quot;</span><span class="s1">;toInject=settings</span><span class="s2">.</span><span class="s1">iframe_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{width}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;width&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{height}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;height&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{wmode}/g</span><span class="s1">,settings</span><span class="s2">.</span><span class="s1">wmode</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{path}/g</span><span class="s1">,movie</span><span class="s2">)</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case</span><span class="s4">&quot;vimeo&quot;</span><span class="s1">:a=w</span><span class="s2">(</span><span class="s1">movie_width,movie_height</span><span class="s2">)</span><span class="s1">;movie_id=pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">;</span><span class="s3">var </span><span class="s1">t=</span><span class="s5">/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/</span><span class="s1">;</span><span class="s3">var </span><span class="s1">n=movie_id</span><span class="s2">.</span><span class="s1">match</span><span class="s2">(</span><span class="s1">t</span><span class="s2">)</span><span class="s1">;movie=</span><span class="s4">&quot;http://player.vimeo.com/video/&quot;</span><span class="s1">+n</span><span class="s2">[</span><span class="s5">3</span><span class="s2">]</span><span class="s1">+</span><span class="s4">&quot;?title=0&amp;byline=0&amp;portrait=0&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">autoplay</span><span class="s2">)</span><span class="s1">movie+=</span><span class="s4">&quot;&amp;autoplay=1;&quot;</span><span class="s1">;vimeo_width=a</span><span class="s2">[</span><span class="s4">&quot;width&quot;</span><span class="s2">]</span><span class="s1">+</span><span class="s4">&quot;/embed/?moog_width=&quot;</span><span class="s1">+a</span><span class="s2">[</span><span class="s4">&quot;width&quot;</span><span class="s2">]</span><span class="s1">;toInject=settings</span><span class="s2">.</span><span class="s1">iframe_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{width}/g</span><span class="s1">,vimeo_width</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{height}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;height&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{path}/g</span><span class="s1">,movie</span><span class="s2">)</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case</span><span class="s4">&quot;quicktime&quot;</span><span class="s1">:a=w</span><span class="s2">(</span><span class="s1">movie_width,movie_height</span><span class="s2">)</span><span class="s1">;a</span><span class="s2">[</span><span class="s4">&quot;height&quot;</span><span class="s2">]</span><span class="s1">+=</span><span class="s5">15</span><span class="s1">;a</span><span class="s2">[</span><span class="s4">&quot;contentHeight&quot;</span><span class="s2">]</span><span class="s1">+=</span><span class="s5">15</span><span class="s1">;a</span><span class="s2">[</span><span class="s4">&quot;containerHeight&quot;</span><span class="s2">]</span><span class="s1">+=</span><span class="s5">15</span><span class="s1">;toInject=settings</span><span class="s2">.</span><span class="s1">quicktime_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{width}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;width&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{height}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;height&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{wmode}/g</span><span class="s1">,settings</span><span class="s2">.</span><span class="s1">wmode</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{path}/g</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{autoplay}/g</span><span class="s1">,settings</span><span class="s2">.</span><span class="s1">autoplay</span><span class="s2">)</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case</span><span class="s4">&quot;flash&quot;</span><span class="s1">:a=w</span><span class="s2">(</span><span class="s1">movie_width,movie_height</span><span class="s2">)</span><span class="s1">;flash_vars=pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">;flash_vars=flash_vars</span><span class="s2">.</span><span class="s1">substring</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">].</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;flashvars&quot;</span><span class="s2">)</span><span class="s1">+</span><span class="s5">10</span><span class="s1">,pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">].</span><span class="s1">length</span><span class="s2">)</span><span class="s1">;filename=pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">;filename=filename</span><span class="s2">.</span><span class="s1">substring</span><span class="s2">(</span><span class="s5">0</span><span class="s1">,filename</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;?&quot;</span><span class="s2">))</span><span class="s1">;toInject=settings</span><span class="s2">.</span><span class="s1">flash_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{width}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;width&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{height}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;height&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{wmode}/g</span><span class="s1">,settings</span><span class="s2">.</span><span class="s1">wmode</span><span class="s2">).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{path}/g</span><span class="s1">,filename+</span><span class="s4">&quot;?&quot;</span><span class="s1">+flash_vars</span><span class="s2">)</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case</span><span class="s4">&quot;iframe&quot;</span><span class="s1">:a=w</span><span class="s2">(</span><span class="s1">movie_width,movie_height</span><span class="s2">)</span><span class="s1">;frame_url=pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">;frame_url=frame_url</span><span class="s2">.</span><span class="s1">substr</span><span class="s2">(</span><span class="s5">0</span><span class="s1">,frame_url</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;iframe&quot;</span><span class="s2">)</span><span class="s1">-</span><span class="s5">1</span><span class="s2">)</span><span class="s1">;toInject=settings</span><span class="s2">.</span><span class="s1">iframe_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{width}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;width&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{height}/g</span><span class="s1">,a</span><span class="s2">[</span><span class="s4">&quot;height&quot;</span><span class="s2">]).</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{path}/g</span><span class="s1">,frame_url</span><span class="s2">)</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case</span><span class="s4">&quot;ajax&quot;</span><span class="s1">:doresize=</span><span class="s3">false</span><span class="s1">;a=w</span><span class="s2">(</span><span class="s1">movie_width,movie_height</span><span class="s2">)</span><span class="s1">;doresize=</span><span class="s3">true</span><span class="s1">;skipInjection=</span><span class="s3">true</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">get</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]</span><span class="s1">,</span><span class="s3">function</span><span class="s2">(</span><span class="s1">e</span><span class="s2">){</span><span class="s1">toInject=settings</span><span class="s2">.</span><span class="s1">inline_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{content}/g</span><span class="s1">,e</span><span class="s2">)</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;#pp_full_res&quot;</span><span class="s2">)[</span><span class="s5">0</span><span class="s2">].</span><span class="s1">innerHTML=toInject;g</span><span class="s2">()})</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case</span><span class="s4">&quot;custom&quot;</span><span class="s1">:a=w</span><span class="s2">(</span><span class="s1">movie_width,movie_height</span><span class="s2">)</span><span class="s1">;toInject=settings</span><span class="s2">.</span><span class="s1">custom_markup;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case</span><span class="s4">&quot;inline&quot;</span><span class="s1">:myClone=e</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]).</span><span class="s1">clone</span><span class="s2">().</span><span class="s1">append</span><span class="s2">(</span><span class="s4">'&lt;br clear=&quot;all&quot; /&gt;'</span><span class="s2">).</span><span class="s1">css</span><span class="s2">({</span><span class="s1">width:settings</span><span class="s2">.</span><span class="s1">default_width</span><span class="s2">}).</span><span class="s1">wrapInner</span><span class="s2">(</span><span class="s4">'&lt;div id=&quot;pp_full_res&quot;&gt;&lt;div class=&quot;pp_inline&quot;&gt;&lt;/div&gt;&lt;/div&gt;'</span><span class="s2">).</span><span class="s1">appendTo</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;body&quot;</span><span class="s2">)).</span><span class="s1">show</span><span class="s2">()</span><span class="s1">;doresize=</span><span class="s3">false</span><span class="s1">;a=w</span><span class="s2">(</span><span class="s1">e</span><span class="s2">(</span><span class="s1">myClone</span><span class="s2">).</span><span class="s1">width</span><span class="s2">()</span><span class="s1">,e</span><span class="s2">(</span><span class="s1">myClone</span><span class="s2">).</span><span class="s1">height</span><span class="s2">())</span><span class="s1">;doresize=</span><span class="s3">true</span><span class="s1">;e</span><span class="s2">(</span><span class="s1">myClone</span><span class="s2">).</span><span class="s1">remove</span><span class="s2">()</span><span class="s1">;toInject=settings</span><span class="s2">.</span><span class="s1">inline_markup</span><span class="s2">.</span><span class="s1">replace</span><span class="s2">(</span><span class="s5">/{content}/g</span><span class="s1">,e</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">[</span><span class="s1">set_position</span><span class="s2">]).</span><span class="s1">html</span><span class="s2">())</span><span class="s1">;</span><span class="s3">break</span><span class="s2">}</span><span class="s3">if</span><span class="s2">(</span><span class="s1">!imgPreloader&amp;&amp;!skipInjection</span><span class="s2">){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;#pp_full_res&quot;</span><span class="s2">)[</span><span class="s5">0</span><span class="s2">].</span><span class="s1">innerHTML=toInject;g</span><span class="s2">()}})</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">}</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changePage=</span><span class="s3">function</span><span class="s2">(</span><span class="s1">t</span><span class="s2">){</span><span class="s1">currentGalleryPage=</span><span class="s5">0</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">t==</span><span class="s4">&quot;previous&quot;</span><span class="s2">){</span><span class="s1">set_position--;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">set_position&lt;</span><span class="s5">0</span><span class="s2">)</span><span class="s1">set_position=e</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">).</span><span class="s1">size</span><span class="s2">()</span><span class="s1">-</span><span class="s5">1</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">t==</span><span class="s4">&quot;next&quot;</span><span class="s2">){</span><span class="s1">set_position++;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">set_position&gt;e</span><span class="s2">(</span><span class="s1">pp_images</span><span class="s2">).</span><span class="s1">size</span><span class="s2">()</span><span class="s1">-</span><span class="s5">1</span><span class="s2">)</span><span class="s1">set_position=</span><span class="s5">0</span><span class="s2">}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">set_position=t</span><span class="s2">}</span><span class="s1">rel_index=set_position;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">!doresize</span><span class="s2">)</span><span class="s1">doresize=</span><span class="s3">true</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">allow_expand</span><span class="s2">){</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;.pp_contract&quot;</span><span class="s2">).</span><span class="s1">removeClass</span><span class="s2">(</span><span class="s4">&quot;pp_contract&quot;</span><span class="s2">).</span><span class="s1">addClass</span><span class="s2">(</span><span class="s4">&quot;pp_expand&quot;</span><span class="s2">)}</span><span class="s1">y</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">open</span><span class="s2">()})}</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changeGalleryPage=</span><span class="s3">function</span><span class="s2">(</span><span class="s1">e</span><span class="s2">){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">e==</span><span class="s4">&quot;next&quot;</span><span class="s2">){</span><span class="s1">currentGalleryPage++;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">currentGalleryPage&gt;totalPage</span><span class="s2">)</span><span class="s1">currentGalleryPage=</span><span class="s5">0</span><span class="s2">}</span><span class="s3">else if</span><span class="s2">(</span><span class="s1">e==</span><span class="s4">&quot;previous&quot;</span><span class="s2">){</span><span class="s1">currentGalleryPage--;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">currentGalleryPage&lt;</span><span class="s5">0</span><span class="s2">)</span><span class="s1">currentGalleryPage=totalPage</span><span class="s2">}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">currentGalleryPage=e</span><span class="s2">}</span><span class="s1">slide_speed=e==</span><span class="s4">&quot;next&quot;</span><span class="s1">||e==</span><span class="s4">&quot;previous&quot;</span><span class="s1">?settings</span><span class="s2">.</span><span class="s1">animation_speed:</span><span class="s5">0</span><span class="s1">;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;ul&quot;</span><span class="s2">).</span><span class="s1">animate</span><span class="s2">({</span><span class="s1">left:-slide_to</span><span class="s2">}</span><span class="s1">,slide_speed</span><span class="s2">)}</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">startSlideshow=</span><span class="s3">function</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s3">typeof </span><span class="s1">m==</span><span class="s4">&quot;undefined&quot;</span><span class="s2">){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_play&quot;</span><span class="s2">).</span><span class="s1">unbind</span><span class="s2">(</span><span class="s4">&quot;click&quot;</span><span class="s2">).</span><span class="s1">removeClass</span><span class="s2">(</span><span class="s4">&quot;pp_play&quot;</span><span class="s2">).</span><span class="s1">addClass</span><span class="s2">(</span><span class="s4">&quot;pp_pause&quot;</span><span class="s2">).</span><span class="s1">click</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">stopSlideshow</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})</span><span class="s1">;m=setInterval</span><span class="s2">(</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">startSlideshow,settings</span><span class="s2">.</span><span class="s1">slideshow</span><span class="s2">)}</span><span class="s3">else</span><span class="s2">{</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">changePage</span><span class="s2">(</span><span class="s4">&quot;next&quot;</span><span class="s2">)}}</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">stopSlideshow=</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">$pp_pic_holder</span><span class="s2">.</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;.pp_pause&quot;</span><span class="s2">).</span><span class="s1">unbind</span><span class="s2">(</span><span class="s4">&quot;click&quot;</span><span class="s2">).</span><span class="s1">removeClass</span><span class="s2">(</span><span class="s4">&quot;pp_pause&quot;</span><span class="s2">).</span><span class="s1">addClass</span><span class="s2">(</span><span class="s4">&quot;pp_play&quot;</span><span class="s2">).</span><span class="s1">click</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">startSlideshow</span><span class="s2">()</span><span class="s1">;</span><span class="s3">return false</span><span class="s2">})</span><span class="s1">;clearInterval</span><span class="s2">(</span><span class="s1">m</span><span class="s2">)</span><span class="s1">;m=undefined</span><span class="s2">}</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">close=</span><span class="s3">function</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">$pp_overlay</span><span class="s2">.</span><span class="s1">is</span><span class="s2">(</span><span class="s4">&quot;:animated&quot;</span><span class="s2">))</span><span class="s3">return</span><span class="s1">;e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">stopSlideshow</span><span class="s2">()</span><span class="s1">;$pp_pic_holder</span><span class="s2">.</span><span class="s1">stop</span><span class="s2">().</span><span class="s1">find</span><span class="s2">(</span><span class="s4">&quot;object,embed&quot;</span><span class="s2">).</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;visibility&quot;</span><span class="s1">,</span><span class="s4">&quot;hidden&quot;</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">(</span><span class="s4">&quot;div.pp_pic_holder,div.ppt,.pp_fade&quot;</span><span class="s2">).</span><span class="s1">fadeOut</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">animation_speed,</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">remove</span><span class="s2">()})</span><span class="s1">;$pp_overlay</span><span class="s2">.</span><span class="s1">fadeOut</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">animation_speed,</span><span class="s3">function</span><span class="s2">(){</span><span class="s3">if</span><span class="s2">(</span><span class="s1">settings</span><span class="s2">.</span><span class="s1">hideflash</span><span class="s2">)</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;object,embed,iframe[src*=youtube],iframe[src*=vimeo]&quot;</span><span class="s2">).</span><span class="s1">css</span><span class="s2">(</span><span class="s4">&quot;visibility&quot;</span><span class="s1">,</span><span class="s4">&quot;visible&quot;</span><span class="s2">)</span><span class="s1">;e</span><span class="s2">(</span><span class="s3">this</span><span class="s2">).</span><span class="s1">remove</span><span class="s2">()</span><span class="s1">;e</span><span class="s2">(</span><span class="s1">window</span><span class="s2">).</span><span class="s1">unbind</span><span class="s2">(</span><span class="s4">&quot;scroll.prettyphoto&quot;</span><span class="s2">)</span><span class="s1">;r</span><span class="s2">()</span><span class="s1">;settings</span><span class="s2">.</span><span class="s1">callback</span><span class="s2">()</span><span class="s1">;doresize=</span><span class="s3">true</span><span class="s1">;f=</span><span class="s3">false</span><span class="s1">;</span><span class="s3">delete </span><span class="s1">settings</span><span class="s2">})}</span><span class="s1">;</span><span class="s3">if</span><span class="s2">(</span><span class="s1">!pp_alreadyInitialized&amp;&amp;t</span><span class="s2">()){</span><span class="s1">pp_alreadyInitialized=</span><span class="s3">true</span><span class="s1">;hashIndex=t</span><span class="s2">()</span><span class="s1">;hashRel=hashIndex;hashIndex=hashIndex</span><span class="s2">.</span><span class="s1">substring</span><span class="s2">(</span><span class="s1">hashIndex</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;/&quot;</span><span class="s2">)</span><span class="s1">+</span><span class="s5">1</span><span class="s1">,hashIndex</span><span class="s2">.</span><span class="s1">length-</span><span class="s5">1</span><span class="s2">)</span><span class="s1">;hashRel=hashRel</span><span class="s2">.</span><span class="s1">substring</span><span class="s2">(</span><span class="s5">0</span><span class="s1">,hashRel</span><span class="s2">.</span><span class="s1">indexOf</span><span class="s2">(</span><span class="s4">&quot;/&quot;</span><span class="s2">))</span><span class="s1">;setTimeout</span><span class="s2">(</span><span class="s3">function</span><span class="s2">(){</span><span class="s1">e</span><span class="s2">(</span><span class="s4">&quot;a[&quot;</span><span class="s1">+s</span><span class="s2">.</span><span class="s1">hook+</span><span class="s4">&quot;^='&quot;</span><span class="s1">+hashRel+</span><span class="s4">&quot;']:eq(&quot;</span><span class="s1">+hashIndex+</span><span class="s4">&quot;)&quot;</span><span class="s2">).</span><span class="s1">trigger</span><span class="s2">(</span><span class="s4">&quot;click&quot;</span><span class="s2">)}</span><span class="s1">,</span><span class="s5">50</span><span class="s2">)}</span><span class="s3">return this</span><span class="s2">.</span><span class="s1">unbind</span><span class="s2">(</span><span class="s4">&quot;click.prettyphoto&quot;</span><span class="s2">).</span><span class="s1">bind</span><span class="s2">(</span><span class="s4">&quot;click.prettyphoto&quot;</span><span class="s1">,e</span><span class="s2">.</span><span class="s1">prettyPhoto</span><span class="s2">.</span><span class="s1">initialize</span><span class="s2">)}</span><span class="s1">;</span><span class="s2">})(</span><span class="s1">jQuery</span><span class="s2">)</span><span class="s1">;</span><span class="s3">var </span><span class="s1">pp_alreadyInitialized=</span><span class="s3">false</span></pre>
</body>
</html>